// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}




datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
  directUrl = env("DIRECT_DATABASE_URL")
  relationMode = "prisma"

}


enum Rewards{
  Bounty
}

enum Severity{
  low
  medium 
  high
  critical
}
model Contacts{
  id String @id @default(auto()) @map("_id")@db.ObjectId
  name String
  company_name String
  email String @unique
  contact String 
  message String
  createdAt   DateTime @default(now()) @map("createdAt")
  updatedAt   DateTime @updatedAt @map("updatedAt")

}

model Programs{
  id String @id @default(auto()) @map("_id")@db.ObjectId
  program String
  launched_on DateTime
  rewards Rewards
}

model Reports{
    id String @id @default(auto()) @map("_id")@db.ObjectId
    name String
    email String
    title String
    severity Severity
    type String
    detail String
    steps String[]
    impact String
    affected_system String
    poc Bytes?
    createdAt   DateTime @default(now()) @map("createdAt")
  updatedAt   DateTime @updatedAt @map("updatedAt")
}

model User{
      id String @id @default(auto()) @map("_id")@db.ObjectId
    // name String 
    work_email String
    company_name String
    contact String
    message String
    password String
}
model Validated_User{
      id String @id @default(auto()) @map("_id")@db.ObjectId
    // name String 
    work_email String
    company_name String
    contact String
    message String
    password String
}

model Company {
  id                        String   @id @default(auto()) @map("_id") @db.ObjectId
  company_name              String
  logo                      String
  overview                  String
  year_founded              Int
  headquarters_city         String
  headquarters_country      String
  industries_served         String[]
  target_business_size      String[]
  geographic_coverage       String[]
  team_size                 String
  services_offered          Json
  expertise_and_certifications Json
  case_studies              Json
  client_reviews            Json
  social_links              Json
  website                   String
  products                  Json @default("{}") // Default empty object
  createdAt                 DateTime @default(now())
  updatedAt                 DateTime @updatedAt

  @@index([company_name])
  @@index([year_founded])
  @@index([headquarters_city])
  @@index([headquarters_country])
  @@index([industries_served])
  @@index([team_size])
}

model Validated_Company {
  id                        String   @id @default(auto()) @map("_id") @db.ObjectId
  company_name              String
  logo                      String
  overview                  String
  year_founded              Int
  headquarters_city         String
  headquarters_country      String
  industries_served         String[]
  target_business_size      String[]
  geographic_coverage       String[]
  team_size                 String
  services_offered          Json
  expertise_and_certifications Json
  case_studies              Json
  client_reviews            Json
  social_links              Json
  website                   String
  products                  Json @default("{}") // Default empty object
  createdAt                 DateTime @default(now())
  updatedAt                 DateTime @updatedAt

  @@index([company_name])
  @@index([year_founded])
  @@index([headquarters_city])
  @@index([headquarters_country])
  @@index([industries_served])
  @@index([team_size])
}




model SecurityAssessmentRequest {
  id                 String   @id @default(auto()) @map("_id") @db.ObjectId
  companyName        String
  industry           String
  companySize        String
  contactName        String
  email              String
  services           String[]
  providerPreferences String[]
  preferredPartners  String[]  
  multipleProviders  Boolean
  packageDuration    String
  specialRequirements String?
  confirmSubmission  Boolean
  createdAt          DateTime @default(now()) @map("createdAt")
  updatedAt          DateTime @updatedAt @map("updatedAt")
}